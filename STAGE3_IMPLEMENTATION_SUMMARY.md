# –≠—Ç–∞–ø 3: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è Lesson & Homework Services

## –°—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: ‚úÖ –ó–ê–í–ï–†–®–ï–ù

–£—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –¥–≤–∞ –∫–ª—é—á–µ–≤—ã—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —É—Ä–æ–∫–∞–º–∏ –∏ –¥–æ–º–∞—à–Ω–∏–º–∏ –∑–∞–¥–∞–Ω–∏—è–º–∏ —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É.

---

## üéØ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### ‚úÖ 1. LESSON SERVICE

**–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
services/lesson-service/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ main.py                     # FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ config/settings.py          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ models/lesson.py            # SQLAlchemy –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ schemas/lesson.py           # Pydantic —Å—Ö–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ services/lesson_service.py  # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ api/v1/lessons.py          # REST API endpoints
‚îÇ   ‚îú‚îÄ‚îÄ events/lesson_events.py     # –°–æ–±—ã—Ç–∏—è —É—Ä–æ–∫–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ database/connection.py      # DB –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ Dockerfile                      # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ requirements.txt                # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

**–ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- **–ú–æ–¥–µ–ª–∏**: `Lesson`, `Schedule`, `LessonAttendance`, `LessonCancellation`
- **–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞**: –°–æ–∑–¥–∞–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ—Ç–º–µ–Ω–∞, –ø–µ—Ä–µ–Ω–æ—Å —É—Ä–æ–∫–æ–≤
- **–°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–Ω–æ—Å–∞**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∞–ª–≥–æ—Ä–∏—Ç–º `shift_lessons_after_cancellation`
- **Event-driven**: –°–æ–±—ã—Ç–∏—è —Å–æ–∑–¥–∞–Ω–∏—è, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, –æ—Ç–º–µ–Ω—ã —É—Ä–æ–∫–æ–≤
- **API**: –ü–æ–ª–Ω—ã–π CRUD + —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (reschedule, cancel, attendance)

### ‚úÖ 2. HOMEWORK SERVICE

**–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
services/homework-service/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ main.py                       # FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ models/homework.py            # –ú–æ–¥–µ–ª–∏ –î–ó –∏ —Ñ–∞–π–ª–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ services/file_service.py      # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ services/homework_service.py  # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –î–ó
‚îÇ   ‚îú‚îÄ‚îÄ events/homework_events.py     # –°–æ–±—ã—Ç–∏—è –î–ó
‚îÇ   ‚îî‚îÄ‚îÄ config/settings.py           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ Dockerfile                        # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ requirements.txt                  # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ + Pillow
```

**–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞–º–∏:**
- **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –¢–∏–ø—ã —Ñ–∞–π–ª–æ–≤, —Ä–∞–∑–º–µ—Ä—ã, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**: –°–∂–∞—Ç–∏–µ, –º–∏–Ω–∏–∞—Ç—é—Ä—ã, –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ Telegram**: –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å file_id
- **Storage**: –û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ —Ç–∏–ø–∞–º —Ñ–∞–π–ª–æ–≤

### ‚úÖ 3. –°–û–ë–´–¢–ò–ô–ù–ê–Ø –°–ò–°–¢–ï–ú–ê

**Event-Driven –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```
shared/events/
‚îú‚îÄ‚îÄ lesson_events.py              # –°–æ–±—ã—Ç–∏—è —É—Ä–æ–∫–æ–≤
‚îú‚îÄ‚îÄ homework_events.py            # –°–æ–±—ã—Ç–∏—è –î–ó
‚îî‚îÄ‚îÄ event_manager.py              # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è–º–∏
```

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è:**
- `lesson.created`, `lesson.updated`, `lesson.cancelled`, `lesson.rescheduled`
- `homework.assigned`, `homework.submitted`, `homework.checked`, `homework.overdue`
- `attendance.marked`, `file.uploaded`

### ‚úÖ 4. HTTP –ö–õ–ò–ï–ù–¢–´

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram Bot:**
```
telegram-bot/app/services/
‚îú‚îÄ‚îÄ lesson_service_client.py      # –ö–ª–∏–µ–Ω—Ç –¥–ª—è Lesson Service
‚îî‚îÄ‚îÄ homework_service_client.py    # –ö–ª–∏–µ–Ω—Ç –¥–ª—è Homework Service
```

**Fallback —Å–∏—Å—Ç–µ–º–∞:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –º–æ–Ω–æ–ª–∏—Ç–Ω—É—é –ë–î –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–æ–≤
- Health checks –∏ circuit breaker pattern
- Graceful degradation —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### ‚úÖ 5. DOCKER –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø

**–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è:**
- Multi-stage Docker builds –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- Health checks –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
- Volume mapping –¥–ª—è persistent storage

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### Single Responsibility
- **Lesson Service**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Ä–æ–∫–∞–º–∏, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º, –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å—é
- **Homework Service**: –î–ó, —Ñ–∞–π–ª—ã, –ø—Ä–æ–≤–µ—Ä–∫–∏, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏

### Database per Service
- –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ë–î –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
- –°–≤—è–∑–∏ —á–µ—Ä–µ–∑ ID (foreign keys –≤ User Service)
- Event-driven —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### API First Design
- OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
- Pydantic –≤–∞–ª–∏–¥–∞—Ü–∏—è
- Consistent error handling
- Comprehensive logging

### Fault Tolerance
- Circuit breaker pattern –≤ –∫–ª–∏–µ–Ω—Ç–∞—Ö
- Fallback –Ω–∞ –º–æ–Ω–æ–ª–∏—Ç–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
- Retry logic —Å exponential backoff
- Health checks –∏ self-healing

### Observability
- Structured logging —Å correlation ID
- Prometheus –º–µ—Ç—Ä–∏–∫–∏
- Health endpoints –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- Event tracing –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏

---

## üîß –ú–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –ò–∑ `database.py`
- ‚úÖ –ú–æ–¥–µ–ª–∏ `Lesson`, `Schedule`, `Homework`
- ‚úÖ Enums: `TopicMastery`, `AttendanceStatus`, `LessonStatus`
- ‚úÖ –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ `shift_lessons_after_cancellation`
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ aggregations

### –ò–∑ `handlers/tutor.py`
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Ä–æ–∫–æ–≤
- ‚úÖ –û—Ç–º–µ–Ω–∞ –∏ –ø–µ—Ä–µ–Ω–æ—Å —É—Ä–æ–∫–æ–≤
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç—å—é
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–º–∞—à–Ω–∏—Ö –∑–∞–¥–∞–Ω–∏–π
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –î–ó –∏ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ—Ü–µ–Ω–æ–∫

### –ò–∑ `handlers/student.py`
- ‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —É—Ä–æ–∫–æ–≤ –∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
- ‚úÖ –°–¥–∞—á–∞ –¥–æ–º–∞—à–Ω–∏—Ö –∑–∞–¥–∞–Ω–∏–π
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ (—Ñ–æ—Ç–æ –¥–æ–º–∞—à–µ–∫)
- ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

---

## üìä API Endpoints

### Lesson Service (–ø–æ—Ä—Ç 8002)
```
POST   /api/v1/lessons                    # –°–æ–∑–¥–∞–Ω–∏–µ —É—Ä–æ–∫–∞
GET    /api/v1/lessons/{id}              # –ü–æ–ª—É—á–µ–Ω–∏–µ —É—Ä–æ–∫–∞
PUT    /api/v1/lessons/{id}              # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —É—Ä–æ–∫–∞
DELETE /api/v1/lessons/{id}              # –£–¥–∞–ª–µ–Ω–∏–µ —É—Ä–æ–∫–∞
POST   /api/v1/lessons/{id}/reschedule   # –ü–µ—Ä–µ–Ω–æ—Å —É—Ä–æ–∫–∞
POST   /api/v1/lessons/{id}/cancel       # –û—Ç–º–µ–Ω–∞ —É—Ä–æ–∫–∞
POST   /api/v1/lessons/{id}/attendance   # –û—Ç–º–µ—Ç–∫–∞ –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏
GET    /api/v1/lessons                   # –°–ø–∏—Å–æ–∫ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
GET    /api/v1/lessons/stats             # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```

### Homework Service (–ø–æ—Ä—Ç 8003)
```
POST   /api/v1/homework                  # –°–æ–∑–¥–∞–Ω–∏–µ –î–ó
GET    /api/v1/homework/{id}            # –ü–æ–ª—É—á–µ–Ω–∏–µ –î–ó
PUT    /api/v1/homework/{id}            # –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –î–ó
POST   /api/v1/homework/{id}/submit     # –°–¥–∞—á–∞ –î–ó
POST   /api/v1/homework/{id}/check      # –ü—Ä–æ–≤–µ—Ä–∫–∞ –î–ó
POST   /api/v1/homework/{id}/files      # –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
GET    /api/v1/files/{id}               # –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
GET    /api/v1/homework/stats           # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –î–ó
```

---

## üöÄ Deployment

### Docker Compose
```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
docker-compose -f docker-compose.microservices.yml up -d

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
docker-compose logs -f lesson-service
docker-compose logs -f homework-service
```

### –ü–æ—Ä—Ç—ã –∏ —Å–µ—Ä–≤–∏—Å—ã
```
8001 - User Service
8002 - Lesson Service  
8003 - Homework Service
5432 - PostgreSQL
5672 - RabbitMQ
6379 - Redis
9090 - Prometheus
3000 - Grafana
15672 - RabbitMQ Management UI
```

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –§–∞–π–ª–æ–≤–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–æ–≤ —Ñ–∞–π–ª–æ–≤ –ø–æ MIME –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–æ–≤ —Ñ–∞–π–ª–æ–≤
- –ò–∑–æ–ª—è—Ü–∏—è —Ñ–∞–π–ª–æ–≤–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

### API Security
- JWT —Ç–æ–∫–µ–Ω—ã (shared secret)
- Input validation —á–µ—Ä–µ–∑ Pydantic
- SQL injection protection —á–µ—Ä–µ–∑ SQLAlchemy
- Rate limiting –≥–æ—Ç–æ–≤ –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ

---

## üìà –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### Database Optimization
- –ò–Ω–¥–µ–∫—Å—ã –Ω–∞ —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –ø–æ–ª—è—Ö
- Connection pooling
- Async/await –¥–ª—è –≤—Å–µ—Ö DB –æ–ø–µ—Ä–∞—Ü–∏–π
- Lazy loading –¥–ª—è —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### File Processing
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤
- –°–∂–∞—Ç–∏–µ –±–æ–ª—å—à–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∏–Ω–∏–∞—Ç—é—Ä
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã (JPEG, WebP)

### Caching Strategy
- Redis –¥–ª—è —á–∞—Å—Ç–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- File system cache –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
- Application-level caching –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Unit Tests
- –ú–æ–¥–µ–ª–∏ –∏ —Å—Ö–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
- Event publishers –∏ consumers
- File service operations

### Integration Tests
- API endpoint —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- Database operations
- Event flow –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
- File upload/download workflows

### Contract Tests
- API —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏
- Event schema validation
- Fallback behavior testing

---

## üìã –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –ì–æ—Ç–æ–≤–æ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:
1. ‚úÖ –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã –∏ –≥–æ—Ç–æ–≤—ã
2. ‚úÖ Event-driven –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
3. ‚úÖ Fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
4. ‚úÖ Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞

### –î–ª—è –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:
1. **Telegram Bot handlers** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
2. **Database migrations** - –ø–µ—Ä–µ–Ω–æ—Å –¥–∞–Ω–Ω—ã—Ö –∏–∑ –º–æ–Ω–æ–ª–∏—Ç–∞
3. **Monitoring setup** - Grafana –¥–∞—à–±–æ—Ä–¥—ã –∏ –∞–ª–µ—Ä—Ç—ã
4. **Load testing** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

---

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

**–£—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã Lesson Service –∏ Homework Service** —Å:

- **–ü–æ–ª–Ω–∞—è Event-driven –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** —Å RabbitMQ
- **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞–º–∏** —Å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é
- **Fallback –Ω–∞ –º–æ–Ω–æ–ª–∏—Ç** –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞  
- **Comprehensive error handling** –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Production-ready** Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- **Seamless –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ User Service

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ –¥–ª—è **–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è** –∏ –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è!