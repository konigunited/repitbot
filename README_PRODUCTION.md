# RepitBot - –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

[![Production Status](https://img.shields.io/badge/Status-Production%20Ready-green)](https://github.com/username/repitbot)
[![Microservices](https://img.shields.io/badge/Microservices-9-blue)](https://github.com/username/repitbot)
[![Docker](https://img.shields.io/badge/Docker-Enabled-blue)](https://docker.com)

> –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã RepitBot

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã (9 —Å–µ—Ä–≤–∏—Å–æ–≤)
```
üåê API Gateway (8000)     ‚Üê –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ üë• User Service (8001)      - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îú‚îÄ‚îÄ üìö Lesson Service (8002)    - –£—Ä–æ–∫–∏ –∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ üìù Homework Service (8003)  - –î–æ–º–∞—à–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è
‚îú‚îÄ‚îÄ üí∞ Payment Service (8004)   - –ü–ª–∞—Ç–µ–∂–∏ –∏ –±–∞–ª–∞–Ω—Å
‚îú‚îÄ‚îÄ üìÅ Material Service (8005)  - –ú–∞—Ç–µ—Ä–∏–∞–ª—ã –∏ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ üîî Notification Service (8006) - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚îú‚îÄ‚îÄ üìä Analytics Service (8007) - –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç—ã
‚îî‚îÄ‚îÄ üéØ Student Service (8008)   - –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∏ –≥–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è
```

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **PostgreSQL** - –æ—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–æ—Ç–¥–µ–ª—å–Ω–∞—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞)
- **RabbitMQ** - message broker –¥–ª—è Event-driven –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- **Redis** - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ session storage
- **Prometheus** - —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫
- **Grafana** - –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –¥–∞—à–±–æ—Ä–¥—ã

## üé≠ –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### üë®‚Äçüë©‚Äçüëß‚Äçüë¶ –ö–∞–±–∏–Ω–µ—Ç –†–û–î–ò–¢–ï–õ–Ø
- üí∞ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞–º–∏ –∏ –±–∞–ª–∞–Ω—Å–æ–º
- üìä –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ —Ä–µ–±–µ–Ω–∫–∞
- üìÖ –ö–æ–Ω—Ç—Ä–æ–ª—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è —É—Ä–æ–∫–æ–≤
- üîî –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

### üéì –ö–∞–±–∏–Ω–µ—Ç –£–ß–ï–ù–ò–ö–ê
- üìö –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è —É—Ä–æ–∫–æ–≤
- üìù –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–æ–º–∞—à–Ω–∏—Ö –∑–∞–¥–∞–Ω–∏–π
- üìñ –î–æ—Å—Ç—É–ø –∫ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º
- üèÜ –°–∏—Å—Ç–µ–º–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π (15+ –Ω–∞–≥—Ä–∞–¥)
- üéÆ –ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è (XP, —É—Ä–æ–≤–Ω–∏, —Å—Ç—Ä–∏–∫–∏)

### üë®‚Äçüè´ –ö–∞–±–∏–Ω–µ—Ç –†–ï–ü–ï–¢–ò–¢–û–†–ê
- üìö –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Ä–æ–∫–∞–º–∏
- üìù –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ–º–∞—à–Ω–∏—Ö –∑–∞–¥–∞–Ω–∏–π
- üìñ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
- üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç—ã –ø–æ —É—á–µ–Ω–∏–∫–∞–º
- üîî –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è —Å —É—á–µ–Ω–∏–∫–∞–º–∏ –∏ —Ä–æ–¥–∏—Ç–µ–ª—è–º–∏

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Docker –∏ Docker Compose
- Git
- 4+ GB RAM
- 10+ GB —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:**
```bash
git clone https://github.com/username/repitbot.git
cd repitbot
```

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ environment variables:**
```bash
cp .env.example .env.production
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å .env.production —Å production –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
```

3. **–ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤:**
```bash
docker-compose -f docker-compose.microservices.yml up -d
```

4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:**
```bash
curl http://localhost:8000/health/all
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Environment Variables
–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `.env.production` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:

```bash
# ============== DATABASE ==============
DATABASE_HOST=your-postgres-host
DATABASE_USER=your-secure-user
DATABASE_PASSWORD=your-secure-password
DATABASE_NAME=repitbot_production

# ============== SECURITY ==============
JWT_SECRET_KEY=your-super-secret-jwt-key-256-bit
JWT_REFRESH_SECRET=your-super-secret-refresh-key-256-bit
API_SECRET_KEY=your-api-secret-key

# ============== EXTERNAL SERVICES ==============
BOT_TOKEN=your-telegram-bot-token
REDIS_URL=redis://your-redis-host:6379
RABBITMQ_URL=amqp://user:pass@your-rabbitmq-host:5672

# ============== MONITORING ==============
PROMETHEUS_ENABLED=true
GRAFANA_ADMIN_PASSWORD=your-secure-grafana-password

# ============== EMAIL ==============
SMTP_HOST=your-smtp-host
SMTP_PORT=587
SMTP_USER=your-email
SMTP_PASSWORD=your-email-password
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–∞—à–±–æ—Ä–¥—ã
- **Grafana**: http://localhost:3000 (admin/admin)
- **Prometheus**: http://localhost:9090
- **RabbitMQ Management**: http://localhost:15672

### Health Checks
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
curl http://localhost:8000/health/all

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
curl http://localhost:8001/health  # User Service
curl http://localhost:8002/health  # Lesson Service
# ... –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```bash
# –í—Å–µ —Ç–µ—Å—Ç—ã
cd tests/
python run_tests.py --all

# –ë—ã—Å—Ç—Ä—ã–µ —Ç–µ—Å—Ç—ã
python run_tests.py --fast

# –¢–µ—Å—Ç—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ä–æ–ª–∏
pytest -m parent -v    # –†–æ–¥–∏—Ç–µ–ª—å
pytest -m student -v   # –£—á–µ–Ω–∏–∫
pytest -m tutor -v     # –†–µ–ø–µ—Ç–∏—Ç–æ—Ä
```

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### Implemented Security Features
- ‚úÖ JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Å refresh tokens
- ‚úÖ RBAC (Role-Based Access Control)
- ‚úÖ Rate limiting –Ω–∞ API Gateway
- ‚úÖ Input validation –∏ sanitization
- ‚úÖ SQL injection protection
- ‚úÖ XSS protection
- ‚úÖ CORS policies
- ‚úÖ File upload validation
- ‚úÖ Circuit breaker –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –∫–∞—Å–∫–∞–¥–Ω—ã—Ö —Å–±–æ–µ–≤

### Security Checklist –¥–ª—è Production
- [ ] –ò–∑–º–µ–Ω–∏—Ç—å –≤—Å–µ default –ø–∞—Ä–æ–ª–∏
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSL/TLS –¥–ª—è –≤—Å–µ—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- [ ] –û–±–Ω–æ–≤–∏—Ç—å JWT secrets –Ω–∞ production –∫–ª—é—á–∏
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å firewall rules
- [ ] –í–∫–ª—é—á–∏—Ç—å audit logging
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å backup —Å—Ç—Ä–∞—Ç–µ–≥–∏—é

## üìà Performance

### –¶–µ–ª–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- API Gateway: < 100ms response time
- –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã: < 500ms response time  
- Database queries: < 100ms
- Event processing: < 50ms
- Throughput: > 1000 requests/sec

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- Connection pooling –¥–ª—è –≤—Å–µ—Ö DB —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- Redis caching –¥–ª—è —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- Async/await –¥–ª—è –≤—Å–µ—Ö I/O –æ–ø–µ—Ä–∞—Ü–∏–π
- Database indexing –Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ–ª—è—Ö
- CDN –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤

## üîÑ Event-Driven Architecture

### –¢–∏–ø—ã —Å–æ–±—ã—Ç–∏–π
```python
# –£—Ä–æ–∫–∏
lesson.created, lesson.updated, lesson.cancelled, lesson.completed

# –î–æ–º–∞—à–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è  
homework.assigned, homework.submitted, homework.checked, homework.overdue

# –ü–ª–∞—Ç–µ–∂–∏
payment.processed, balance.updated, balance.low

# –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
achievement.unlocked, level.upgraded, xp.awarded

# –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
notification.sent, notification.delivered, notification.failed
```

## üö¢ Deployment

### Production Deployment
1. **Server setup** (Ubuntu 20.04+ recommended)
2. **Docker installation**
3. **SSL certificates** –ø–æ–ª—É—á–µ–Ω–∏–µ
4. **Environment configuration**
5. **Database migration**
6. **Service deployment**
7. **Monitoring setup**

### Rollback Strategy
```bash
# Rollback –∫ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏
docker-compose -f docker-compose.microservices.yml down
git checkout previous-stable-tag
docker-compose -f docker-compose.microservices.yml up -d
```

## üìö API Documentation

### Swagger/OpenAPI
- API Gateway: http://localhost:8000/docs
- User Service: http://localhost:8001/docs
- Lesson Service: http://localhost:8002/docs
- Payment Service: http://localhost:8004/docs
- –ò —Ç.–¥. –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

## ü§ù Contributing

### Development Workflow
1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞—Ç—å feature branch
3. –í–Ω–µ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
5. –°–æ–∑–¥–∞—Ç—å Pull Request

### Code Standards
- Python 3.11+
- Type hints –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã
- Async/await –¥–ª—è I/O –æ–ø–µ—Ä–∞—Ü–∏–π
- 100% test coverage –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- Docker –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

## üìû Support

### –ö–æ–Ω—Ç–∞–∫—Ç—ã
- Email: support@repitbot.com
- GitHub Issues: [Issues](https://github.com/username/repitbot/issues)
- Documentation: [Wiki](https://github.com/username/repitbot/wiki)

### Troubleshooting
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Docker containers: `docker ps`
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏: `docker logs <container_name>`
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å health checks: `curl localhost:8000/health/all`
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å database connectivity
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å RabbitMQ queues

## üìã License

MIT License - —Å–º. [LICENSE](LICENSE) —Ñ–∞–π–ª –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

---

**RepitBot** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞, –≥–æ—Ç–æ–≤–∞—è –∫ enterprise deployment! üöÄ